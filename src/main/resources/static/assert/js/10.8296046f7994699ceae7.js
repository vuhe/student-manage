webpackJsonp([10],{"69SY":function(e,t){},bjMO:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"添加/修改成绩信息",visible:e.addOrUpdateBtn,"show-close":!1},on:{"update:visible":function(t){e.addOrUpdateBtn=t},open:e.initData,close:e.endCall}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.dataRule}},[o("el-form-item",{attrs:{label:"学生学号",prop:"stuNum","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.stuNum,callback:function(t){e.$set(e.form,"stuNum",t)},expression:"form.stuNum"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"课程编号",prop:"cozNum","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.cozNum,callback:function(t){e.$set(e.form,"cozNum",t)},expression:"form.cozNum"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"课程成绩",prop:"score","label-width":e.formLabelWidth}},[o("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:e.form.score,callback:function(t){e.$set(e.form,"score",t)},expression:"form.score"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"补考成绩","label-width":e.formLabelWidth}},[o("el-checkbox",{model:{value:e.haveRetestScore,callback:function(t){e.haveRetestScore=t},expression:"haveRetestScore"}},[e._v("是否有补考成绩")]),e._v(" "),o("el-input",{attrs:{type:"number",disabled:!e.haveRetestScore,autocomplete:"off"},model:{value:e.form.retestScore,callback:function(t){e.$set(e.form,"retestScore",t)},expression:"form.retestScore"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.exitHandle}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var s=o("VU/8")({name:"score-add-or-update",data:function(){return{form:{stuNum:"",cozNum:"",score:0,retestScore:null},dataRule:{stuNum:[{required:!0,message:"学号号不能为空",trigger:"blur"}],cozNum:[{required:!0,message:"课程号不能为空",trigger:"blur"}],score:[{required:!0,message:"成绩不能为空",trigger:"blur"}]},haveRetestScore:!1,formLabelWidth:"120px"}},computed:{addOrUpdateBtn:{get:function(){return this.$store.state.common.scoreAddOrUpdateBtn},set:function(e){this.$store.commit("common/updateScoreAddOrUpdateBtn",e)}},id:{get:function(){return this.$store.state.common.currModifyId},set:function(e){this.$store.commit("common/updateCurrModifyId",e)}}},methods:{initData:function(){var e=this;this.id>0?this.$http({url:this.$http.adornUrl("/score/get"),method:"get",params:{id:this.id}}).then(function(t){var o=t.data;o&&200===o.code?(e.form.stuNum=o.score.stuNum,e.form.cozNum=o.score.cozNum,e.form.score=o.score.score,e.form.retestScore=o.score.retestScore,e.haveRetestScore=null!=e.form.retestScore):e.$message.error(o.code+" : "+o.message)}):(this.form.stuNum="",this.form.cozNum="",this.form.score=0,this.form.retestScore=null,this.haveRetestScore=!1)},save:function(){var e=this;this.$http({url:this.$http.adornUrl("/score/save"),method:"post",data:this.$http.adornData({id:this.id,stuNum:this.form.stuNum,cozNum:this.form.cozNum,score:this.form.score,retestScore:!0===this.haveRetestScore?this.form.retestScore:null})}).then(function(t){var o=t.data;o&&200===o.code||e.$message.error(o.code+" : "+o.message)}),this.exitHandle()},exitHandle:function(){this.addOrUpdateBtn=!1,this.id=0,this.$refs.form.resetFields()}},props:["endCall"]},r,!1,function(e){o("69SY")},"data-v-33aa7098",null);t.default=s.exports}});
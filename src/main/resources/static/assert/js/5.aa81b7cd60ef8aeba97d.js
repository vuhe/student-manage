webpackJsonp([5,9],{"0UoO":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:"添加/修改学生信息",visible:t.addOrUpdateBtn,"show-close":!1},on:{"update:visible":function(e){t.addOrUpdateBtn=e},open:t.initData,close:t.endCall}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.dataRule}},[r("el-form-item",{attrs:{label:"学生学号",prop:"stuNum","label-width":t.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.stuNum,callback:function(e){t.$set(t.form,"stuNum",e)},expression:"form.stuNum"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"学生姓名",prop:"stuName","label-width":t.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.stuName,callback:function(e){t.$set(t.form,"stuName",e)},expression:"form.stuName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"学生性别",prop:"stuSex","label-width":t.formLabelWidth}},[r("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.form.stuSex,callback:function(e){t.$set(t.form,"stuSex",e)},expression:"form.stuSex"}},[r("el-option",{attrs:{label:"男",value:"Male"}}),t._v(" "),r("el-option",{attrs:{label:"女",value:"Female"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"学生生日",prop:"stuBirthday","label-width":t.formLabelWidth}},[r("el-date-picker",{attrs:{type:"date",placeholder:"请选择生日"},model:{value:t.form.stuBirthday,callback:function(e){t.$set(t.form,"stuBirthday",e)},expression:"form.stuBirthday"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"学生班级",prop:"stuClass","label-width":t.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.stuClass,callback:function(e){t.$set(t.form,"stuClass",e)},expression:"form.stuClass"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"学生专业",prop:"stuProfession","label-width":t.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.stuProfession,callback:function(e){t.$set(t.form,"stuProfession",e)},expression:"form.stuProfession"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"学生系别",prop:"stuDepartment","label-width":t.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.stuDepartment,callback:function(e){t.$set(t.form,"stuDepartment",e)},expression:"form.stuDepartment"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.exitHandle}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var a=r("VU/8")({name:"student-add-or-update",data:function(){return{form:{stuNum:"",stuName:"",stuSex:"",stuBirthday:"",stuClass:"",stuProfession:"",stuDepartment:""},dataRule:{stuNum:[{required:!0,message:"学号号不能为空",trigger:"blur"}],stuName:[{required:!0,message:"课程号不能为空",trigger:"blur"}],stuSex:[{required:!0,message:"成绩不能为空",trigger:"blur"}],stuBirthday:[{type:"date",required:!0,message:"生日不能为空",trigger:"blur"}],stuClass:[{required:!0,message:"班级不能为空",trigger:"blur"}],stuProfession:[{required:!0,message:"专业不能为空",trigger:"blur"}],stuDepartment:[{required:!0,message:"系别不能为空",trigger:"blur"}]},formLabelWidth:"120px"}},computed:{addOrUpdateBtn:{get:function(){return this.$store.state.common.studentAddOrUpdateBtn},set:function(t){this.$store.commit("common/updateStudentAddOrUpdateBtn",t)}},id:{get:function(){return this.$store.state.common.currModifyId},set:function(t){this.$store.commit("common/updateCurrModifyId",t)}}},methods:{initData:function(){var t=this;this.id>0?this.$http({url:this.$http.adornUrl("/student/get"),method:"get",params:{id:this.id}}).then(function(e){var r=e.data;r&&200===r.code?(t.form.stuNum=r.student.stuNum,t.form.stuName=r.student.stuName,t.form.stuSex=r.student.stuSex,t.form.stuBirthday=r.student.stuBirthday,t.form.stuClass=r.student.stuClass,t.form.stuProfession=r.student.stuProfession,t.form.stuDepartment=r.student.stuDepartment):t.$message.error(r.code+" : "+r.message)}):(this.form.stuNum="",this.form.stuName="",this.form.stuSex="",this.form.stuBirthday="",this.form.stuClass="",this.form.stuProfession="",this.form.stuDepartment="")},save:function(){var t=this;this.$http({url:this.$http.adornUrl("/student/save"),method:"post",data:this.$http.adornData({id:this.id,stuNum:this.form.stuNum,stuName:this.form.stuName,stuSex:this.form.stuSex,stuBirthday:this.form.stuBirthday,stuClass:this.form.stuClass,stuProfession:this.form.stuProfession,stuDepartment:this.form.stuDepartment})}).then(function(e){var r=e.data;r&&200===r.code||t.$message.error(r.code+" : "+r.message)}),this.exitHandle()},exitHandle:function(){this.addOrUpdateBtn=!1,this.id=0,this.$refs.form.resetFields()}},props:["endCall"]},s,!1,function(t){r("dNQg")},"data-v-37c5a063",null);e.default=a.exports},JhTh:function(t,e){},QFBj:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("0UoO"),a=r("0xDb"),o={name:"student",data:function(){return{searchNum:"",page:0,pageSize:1,total:1,currentPage:1,list:[]}},created:function(){this.getData(1)},computed:{addOrUpdateBtn:{get:function(){return this.$store.state.common.studentAddOrUpdateBtn},set:function(t){this.$store.commit("common/updateStudentAddOrUpdateBtn",t)}},currId:{get:function(){return this.$store.state.common.currModifyId},set:function(t){this.$store.commit("common/updateCurrModifyId",t)}},isAdmin:{get:function(){return"Admin"===this.$store.state.user.role}}},components:{studentAddOrUpdate:s.default},methods:{addOrUpdateHandle:function(t){this.currId=t,this.addOrUpdateBtn=!0},getData:function(t){var e=this;this.$http({url:this.$http.adornUrl("/student/search/"+t),method:"get",params:{num:this.searchNum}}).then(function(t){var r=t.data;r&&200===r.code?(e.list=[],e.total=r.page.total,r.page.records.forEach(function(t){var r={};r.id=t.id,r.stuNum=t.stuNum,r.stuName=t.stuName,r.stuSex="Male"===t.stuSex?"男":"女",r.stuBirthday=Object(a.b)(t.stuBirthday),r.stuClass=t.stuClass,r.stuProfession=t.stuProfession,r.stuDepartment=t.stuDepartment,e.list.push(r)})):e.$message.error(r.code+" : "+r.message)})},deleteDate:function(t){var e=this;this.$http({url:this.$http.adornUrl("/student/delete"),method:"delete",params:{id:t}}).then(function(t){var r=t.data;r&&200===r.code?e.getData(e.currentPage):e.$message.error(r.code+" : "+r.message)})}}},n={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-input",{attrs:{placeholder:"输入学号查询",clearable:""},model:{value:t.searchNum,callback:function(e){t.searchNum=e},expression:"searchNum"}})],1),t._v(" "),r("el-form-item",[r("el-button",{on:{click:function(e){return t.getData(1)}}},[t._v("查询/刷新")]),t._v(" "),t.isAdmin?r("el-button",{attrs:{type:"warning"},on:{click:function(e){t.addOrUpdateBtn=!0}}},[t._v("添加学生")]):t._e()],1)],1),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!1,expression:"false"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[r("el-table-column",{attrs:{prop:"id","header-align":"center",align:"center",width:"50",label:"编号"}}),t._v(" "),r("el-table-column",{attrs:{prop:"stuNum","header-align":"center",align:"center",label:"学号",width:"150"}}),t._v(" "),r("el-table-column",{attrs:{prop:"stuName","header-align":"center",align:"center",label:"姓名",width:"150"}}),t._v(" "),r("el-table-column",{attrs:{prop:"stuSex","header-align":"center",align:"center",width:"80",label:"性别"}}),t._v(" "),r("el-table-column",{attrs:{prop:"stuBirthday","header-align":"center",align:"center",width:"150",label:"出生日期"}}),t._v(" "),r("el-table-column",{attrs:{prop:"stuClass","header-align":"center",align:"center",width:"100",label:"班级"}}),t._v(" "),r("el-table-column",{attrs:{prop:"stuProfession","header-align":"center",align:"center",width:"150",label:"专业"}}),t._v(" "),r("el-table-column",{attrs:{prop:"stuDepartment","header-align":"center",align:"center",width:"150",label:"系别"}}),t._v(" "),t.isAdmin?r("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"150",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.addOrUpdateHandle(e.row.id)}}},[t._v("修改")]),t._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.deleteDate(e.row.id)}}},[t._v("删除")])]}}],null,!1,4093263337)}):t._e()],1),t._v(" "),r("el-pagination",{attrs:{"hide-on-single-page":!1,"current-page":t.currentPage,"page-size":10,total:t.total,layout:"total, prev, pager, next"},on:{"current-change":t.getData}}),t._v(" "),r("student-add-or-update",{attrs:{"end-call":t.getData(1)}})],1)},staticRenderFns:[]};var l=r("VU/8")(o,n,!1,function(t){r("JhTh")},"data-v-00ef6fce",null);e.default=l.exports},dNQg:function(t,e){}});